class StepFlow{constructor(){this.onButtonClick=this.onButtonClick.bind(this),this.stepButtons=Array.from(document.querySelectorAll("[data-step-button]")),this.stepPages=Array.from(document.querySelectorAll("[data-step-page]")),this.stepQuery=this.getStepQuery(),this.stepNode=this.stepPages.find((t=>t.dataset.stepPage===this.stepQuery)),this.stepButtons.forEach((t=>{t.addEventListener("click",this.onButtonClick),t.dataset.stepButton===this.stepQuery&&t.dispatchEvent(new Event("click"))}))}getStepQuery(){return new URL(window.location.href).searchParams.get("step")||"start"}onButtonClick(t){const e=t.target,s=e.dataset.stepButton,n=new URL(window.location.href);s&&"start"!==s?n.searchParams.set("step",s):n.searchParams.delete("step"),window.history.replaceState(null,document.title,n),this.activeButton=e,this.setActiveButtons()}setActiveButtons(){e=e.bind(this);const t=this.stepButtons.findIndex((t=>t===this.activeButton));for(let s=t;s>=0;s--)e("add",s);for(let s=t+1;s<this.stepButtons.length;s++)e("remove",s);function e(t,e){this.stepButtons[e].parentNode.classList[t]("__active")}}}new StepFlow;