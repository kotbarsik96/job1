class JobEmployerPage{constructor(n){this.renderPage=this.renderPage.bind(this),this.rootElem=n,this.employerId=this.rootElem.dataset.employerId,this.valuesShownAmount=4,this.adsShownAmount=3,this.rootElem.removeAttribute("data-employer-id"),loadData(`${rootPath}json/employers.json`).then((n=>{this.employerData=n.find((n=>n.id===this.employerId)),this.renderPage()}))}renderPage(){this.renderHeader(),this.renderAbout(),this.renderImages(),this.renderValues(),this.renderBenefits(),this.renderAds(),this.renderContacts(),this.renderMap(),this.fullLayout=`\n            ${this.headerSection}\n            ${this.aboutSection}\n            ${this.imagesSection}\n            ${this.valuesSection}\n            ${this.benefitsSection}\n            ${this.adsSection}\n            ${this.contactsSection}\n            ${this.mapSection}\n        `,this.rootElem.insertAdjacentHTML("afterbegin",this.fullLayout),this.loadLogo()}renderOptionalContacts(n){let a="";for(let e of n){const n=e.children;if("phone"===e.type){let e="";for(let a=0;a<n.length;a++){const t=n[a];e+=`\n                    <a class="contacts__phone" href="tel:${t}">\n                        +7 (${t[1]+t[2]+t[3]}) ${t[4]+t[5]+t[6]}-${t[7]+t[8]}-${t[9]+t[10]}\n                    </a>${a===n.length-1?"":","}\n                `}a+=`\n                    <div class="contacts__optional-block">\n                        Тел. ${e}\n                    </div>\n                    `}if("email"===e.type){let e="";for(let a=0;a<n.length;a++)e+=`${n[a]}${a===n.length-1?"":","}`;a+=`\n                    <div class="contacts__optional-block">\n                        e-mail: ${e}\n                    </div>\n                    `}"website"===e.type&&(a+=`\n                    <div class="contacts__optional-block">\n                        Перейти на\n                        <a class="link" href="${e.child}" target="_blank">веб-сайт</a>\n                    </div>\n                    `)}return a}noArr(n){return!Array.isArray(n)||n.length<1}renderHeader(){const n=`\n        <header class="job-company__company-header company-header">\n            <div class="company-header__inner">\n                <div class="company-header__background-image company-header__background-image--fallback"></div>\n                <div class="company-header__wrap">\n                    <div class="company-header__image-container">\n                        <a class="company-header__logo-link logo logo--bordered" href="#" target="_blank">\n                            <img class="company-header__logo-fallback" src="/job1/img/companies/fallback-logo.gif">\n                        </a>\n                    </div>\n                    <div class="company-header__data-container">\n                        <h1 class="company-header__title headline-3x1">\n                            <a class="company-header__link link" href="#" target="_blank">\n                                ${this.employerData.title}\n                            </a>\n                        </h1>\n                        <div class="company-header__details">\n                            ${this.employerData.tags}\n                        </div>\n                        <div class="company-header__data">\n                            <div class="company-header__data-item icon-clock">\n                                ${this.employerData.regDate}\n                            </div>\n                            <div class="company-header__data-item ${this.employerData.onlineStatus.isOnline?"company-header__data-online":""} icon-dot">\n                                ${this.employerData.onlineStatus.isOnline?"Онлайн":`Оффлайн (дней: ${this.employerData.onlineStatus.days})`}\n                            </div>\n                            <div class="company-header__star-rating star-rating" data-rating-value="${this.employerData.ratingValue}">\n                                <div class="star-rating__stars"></div>\n                                <div class="star-rating__comment">\n                                    комментариев: \n                                    ${this.employerData.comments.amount}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </header>`;this.headerSection=n}loadLogo(){loadData(`${rootPath}${this.employerData.iconURL}`,"text").then((n=>{const a=this.rootElem.querySelector(".company-header__logo-fallback");a&&(a.insertAdjacentHTML("afterend",n),a.remove())}))}renderAbout(){let n="";if(Array.isArray(this.employerData.about)&&this.employerData.about.length>0){let a="";for(let n of this.employerData.about)if("paragraph"===n.type&&(a+=`<p class="job-company__about-paragraph">${n.content}</p>`),"list"===n.type){let e="";for(let a of n.content)e+=`<li class="job-company__about-list-item">${a}</li>`;a+=`<ul class="job-company__about-list">${e}</ul>`}n=`\n            <div class="spoiler__hideable">${a}</div>\n            <button class="job-company__spoiler-button spoiler__button"\n                data-spoiler-changing-text="Читать еще, Скрыть">Читать еще</button>\n            `}this.aboutSection=`\n        <section class="section job-company__about-us">\n            <div class="section__wrap section__wrap--no-padding">\n                <div class="section__inner section__inner--small">\n                    <h2 class="job-company__headline headline-2x1">О нас</h2>\n                    <div class="job-company__about-text ${n?"spoiler":""}">\n                        <p class="job-company__about-paragraph">\n                            ${this.employerData.aboutTitle}\n                        </p>\n                        ${n}\n                    </div>\n                </div>\n            </div>\n        </section>\n        `}renderImages(){const n=this.employerData.images;if(!Array.isArray(n)||n.length<1)return void(this.imagesLayout="");let a="";for(let e=1;e<=n.length;e++){const t=n[e-1];a+=`\n            <li class="company-images__item ${"main"===t.type?"company-images__item--main":""}">\n                <img class="company-images__image" data-onclick-modal="iframe"\n                    src="${t.src}" alt="${e}">\n            </li>\n            `}this.imagesSection=`\n        <section class="section">\n            <div class="section__wrap section__wrap--no-padding">\n                <div class="section__inner section__inner--small">\n                    <div class="job-company__images">\n                        <ul class="company-images">\n                            ${a}\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </section>\n        `}renderValues(){const n=this.employerData.values;if(this.noArr(n))return this.valuesSection="";let a="",e="";for(let n=0;n<this.valuesShownAmount;n++)a+=i(n);if(n.length>this.valuesShownAmount)for(let a=this.valuesShownAmount;a<n.length;a++)e+=i(a);const t=e?'<div class="job-company__link-container job-company__link-container--with-spacing">\n                    <button class="job-company__link spoiler__button"\n                        data-spoiler-changing-text="Посмотреть ещё, Скрыть">Посмотреть ещё</button>\n                </div>':"",s=e?`<ul class="company-values__hideable spoiler__hideable">\n                    ${e}\n                </ul>`:"";function i(a){const e=n[a];return e?`\n            <li class="company-values__item ${e.content?"":"company-values__item--full"} icon-c-values-${e.iconName}">\n                <div class="company-values__content hyphenate">\n                    <span class="company-values__title">${e.title}</span>\n                    ${e.content?`<p class="company-values__text">${e.content}</p>`:""}\n                </div>\n            </li>\n            `:""}this.valuesSection=`\n        <section class="section job-company__values">\n            <div class="section__wrap">\n                <div class="section__inner section__inner--small">\n                    <h2 class="headline-2x1 job-company__headline">\n                        Наши ценности\n                    </h2>\n                    <div class="company-values ${s&&t?"spoiler":""}">\n                        <ul class="company-values__list">\n                            ${a}\n                        </ul>\n                        ${s}\n                        ${t}\n                    </div>\n                </div>\n            </div>\n        </section>\n        `}renderBenefits(){const n=this.employerData.benefits;if(this.noArr(n))return this.benefitsSection="";let a="";for(let e of n)a+=`\n            <li class="company-benefits__item">\n                <p class="company-benefits__title">${e}</p>\n            </li>\n            `;this.benefitsSection=`\n        <section class="section job-company__benefits">\n            <div class="section_wrap">\n                <div class="section__inner section__inner--small">\n                    <h2 class="headline-2x1 job-company__headline">\n                        Наши преимущества\n                    </h2>\n                    <ul class="company-benefits">\n                        ${a}\n                    </ul>\n                </div>\n            </div>\n        </section>\n        `}renderAds(){const n=this.employerData.activeAds;if(this.noArr(n))return this.adsSection="";let a="",e="";for(let n=0;n<this.adsShownAmount;n++)a+=i(n);if(n.length>this.adsShownAmount)for(let a=this.adsShownAmount;a<n.length;a++)e+=i(a);const t=e?`\n            <ul class="job-company__jobs-list job-company__jobs-list--center spoiler__hideable"> \n                ${e}\n            </ul>`:"",s=e?'\n            <div class="job-company__link-container job-company__link-container--with-spacing">\n                <button class="job-company__link spoiler__button"\n                    data-spoiler-changing-text="Посмотреть ещё, Скрыть">Посмотреть ещё</button>\n            </div>\n            ':"";function i(a){const e=n[a];return`\n                <li class="job-company__jobs-item job-card job-card--bordered">\n                    <a class="job-card__link" href="#">\n                        <h3 class="job-card__title headline-x1">\n                            ${e.title}\n                        </h3>\n                        <span class="job-card__location">\n                            ${e.meta.location}\n                        </span>\n                        <span class="job-card__date">\n                            ${e.meta.date}\n                        </span>\n                        <p class="job-card__text">\n                            ${e.text}\n                        </p>\n                    </a>\n                </li>\n            `}this.adsSection=`\n        <section class="section job-company__jobs">\n            <div class="section__wrap section__wrap--no-padding">\n                <div class="section__inner ${t&&s?"spoiler":""}">\n                    <h2 class="headline-2x1 job-company__headline">\n                        Актуальных вакансий: ${n.length}\n                    </h2>\n                    <ul class="job-company__jobs-list job-company__jobs-list--center">\n                        ${a}\n                    </ul>\n                    ${t}\n                    ${s}\n                </div>\n            </div>\n        </section>\n        `}renderContacts(){const n=this.employerData.contacts;if(this.noArr(n))return this.contactsSection="";let a="";for(let e of n){const n=this.renderOptionalContacts(e.optional);a+=`\n            <li class="job-company__recruiter-item company-recruiter">\n                <div class="company-recruiter__info">\n                    <div class="company-recruiter__avatar">\n                        <div class="company-recruiter__avatar-inner">\n                            ${this.getAvatarLayout(e.recruiterGender)}\n                        </div>\n                    </div>\n                    <div class="company-recruiter__data">\n                        <h3 class="company-recruiter__name headline-x1">Отдел кадров</h3>\n                        <span class="company-recruiter__position">${e.recruiterPosition}</span>\n                        <div class="company-recruiter__optional contacts">\n                            ${n}\n                        </div>\n                    </div>\n                </div>\n            </li>\n            `}this.contactsSection=`\n        <section class="section">\n            <div class="section__wrap section__wrap--no-padding">\n                <div class="section__inner section__inner--extra-small">\n                    <h2 class="job-company__headline headline-2x1">Контакты</h2>\n                    <ul class="job-company__recruiter-list">${a}</ul>\n                </div>\n            </div>\n        </section>\n        `}renderMap(){const n=this.employerData.location;if(!n)return this.mapSection="";this.mapSection=`\n        <section class="section">\n            <div class="section__wrap section__wrap--no-padding">\n                <div class="section__inner section__inner--extra-small">\n                    <h2 class="job-company__headline headline-2x1">Где мы находимся</h2>\n                    <div class="company-location">\n                        <div class="company-location__map g-map">\n                            <iframe class="g-map__iframe"\n                                src="${n.src}"\n                                loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>\n                        </div>\n                        <div class="company-location__data">\n                            <div class="company-location__address">\n                                <h3 class="company-location__name headline-x1">\n                                    ${n.name}\n                                </h3>\n                                <p class="company-location__street">\n                                    ${n.street} -\n                                    <a class="company-location__link"\n                                        href="${n.direction}"\n                                        target="_blank">\n                                        Рассчитать маршрут\n                                    </a>\n                                </p>\n                                <p class="company-location__city">\n                                    ${n.region}\n                                </p>\n                            </div>\n                            <div class="company-location__contact">\n                                ${this.renderOptionalContacts(n.contacts)}\n                            </div>\n                        </div>\n                        <div class="job-company__link-container job-company__link-container--with-spacing">\n                            <a class="job-company__link" href="#">Посмотреть все местоположения</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n        `}getAvatarLayout(n){return"female"===n?'\n            <svg viewBox="0 0 17.16 18">\n                <path fill="currentColor"\n                    d="M8.58 1.42c-2.21 0-4.21.95-5.59 2.47A7.52 7.52 0 0 0 1 9c0 1.53.46 2.96 1.24 4.15a7.57 7.57 0 0 0 11.91.98 7.56 7.56 0 0 0-.12-10.39 7.53 7.53 0 0 0-5.45-2.32zM5.69 15.34l.15-.06.75-.22.83-.24c.16-.05.44-.14.69-.42.08-.11.11-.35.12-.47.09.01.19.04.28.04h.07c.16 0 .31-.02.47-.06.01.14.05.38.14.51.23.26.5.35.72.42l.75.23.79.24.04.01a6.92 6.92 0 0 1-5.8.02zm6.54-5.88a.77.77 0 0 0-.46-.27v-.27c0-1.39-1.64-1.44-2.96-1.48-1.5-.04-1.86-.36-2.21-.8a.61.61 0 0 0-.47-.23l-.08.01a.59.59 0 0 0-.47.36c-.3.7-.32 1.64-.3 2.23a.69.69 0 0 0-.38.29.97.97 0 0 0-.09.91c.11.32.31.53.53.64.11.8.52 1.52 1.06 2.06-.73-.11-1.9-.41-2.19-1.22-.32-.87-.55-3.88.76-5.82.79-1.17 2-1.76 3.6-1.76h.1c1.59 0 2.79.58 3.57 1.74 1.3 1.92 1.04 4.96.72 5.85-.3.84-1.51 1.13-2.26 1.23.51-.52.89-1.19 1.03-1.88.27-.12.49-.38.63-.74l.03-.08c.07-.39-.05-.64-.16-.77zm-6.31 1.23l-.02-.32-.1.01c-.08 0-.32-.04-.44-.37-.08-.27.04-.44.15-.44.16 0 .41.14.44.31l-.04-.38c0-.02-.17-1.57.22-2.49.53.67 1.13.99 2.67 1.03 1.43.04 2.38.12 2.38.88v1.14c.22-.24.26-.22.32-.24l.15-.03c.12 0 .19.09.14.31-.12.3-.29.44-.4.44h-.08c-.04 0-.06-.01-.11-.05l-.02.2c-.12 1.33-1.42 2.68-2.59 2.68h-.08c-1.04 0-2.46-1.26-2.59-2.68zm6.21 4.3c-.02-.02-.03-.06-.06-.07a2.03 2.03 0 0 0-.43-.17l-.8-.24-.79-.24c-.12-.04-.25-.08-.36-.19l-.04-.29-.03-.06.2-.11.44-.03c.82-.05 2.77-.32 3.26-1.68.36-1 .65-4.26-.79-6.39-.9-1.33-2.26-2-4.06-2h-.1c-1.81 0-3.19.68-4.1 2.03-1.45 2.15-1.18 5.38-.82 6.36.48 1.32 2.37 1.61 3.17 1.67l.32.02.14.01h.01c.13.07.25.13.38.18l-.02.04-.04.26c-.11.1-.25.14-.42.2l-.76.22-.75.22c-.17.05-.33.11-.47.18-.06.03-.09.08-.11.14a7.11 7.11 0 0 1-2.33-2.2A6.91 6.91 0 0 1 1.6 9c0-1.79.67-3.42 1.78-4.65a6.95 6.95 0 0 1 5.2-2.33c1.99 0 3.79.84 5.06 2.18A6.94 6.94 0 0 1 15.56 9a6.97 6.97 0 0 1-3.43 5.99z">\n                </path>\n            </svg>\n            ':'\n            <svg fill="currentColor" viewBox="0 0 16 18">\n                <path\n                    d="M8,1.25C3.73,1.25,0.25,4.73,0.25,9S3.73,16.75,8,16.75s7.75-3.48,7.75-7.75S12.27,1.25,8,1.25z M8,1.75 c4,0,7.25,3.25,7.25,7.25c0,1.76-0.63,3.38-1.68,4.64c-0.15-0.07-0.31-0.14-0.48-0.19c-0.2-0.06-0.73-0.21-1.24-0.36 c-0.51-0.15-1.01-0.29-1.12-0.33l-0.09-0.03c-0.22-0.07-0.49-0.16-0.68-0.35c-0.03-0.06-0.07-0.35-0.09-0.53 c1.08-0.9,1.98-2.41,1.98-3.95c0-2.33-1.58-3.96-3.85-3.96S4.15,5.58,4.15,7.91c0,1.54,0.9,3.06,1.98,3.95c0,0,0,0.01-0.01,0.01 c-0.01,0.19-0.06,0.46-0.05,0.47c-0.22,0.24-0.5,0.33-0.71,0.4l-0.09,0.03c-0.11,0.04-0.61,0.18-1.12,0.33 c-0.51,0.14-1.03,0.29-1.23,0.36c-0.18,0.05-0.33,0.12-0.49,0.19C1.38,12.38,0.75,10.76,0.75,9C0.75,5,4,1.75,8,1.75z M4.65,7.91 c0-2.04,1.38-3.46,3.35-3.46s3.35,1.42,3.35,3.46c0,2.12-1.95,4.27-3.35,4.27S4.65,10.03,4.65,7.91z M8,16.25 c-2.04,0-3.89-0.85-5.2-2.21c0.09-0.03,0.17-0.08,0.27-0.1c0.2-0.06,0.72-0.21,1.23-0.36c0.52-0.15,1.02-0.29,1.14-0.33l0.08-0.03 c0.25-0.08,0.62-0.2,0.95-0.56c0.06-0.09,0.11-0.29,0.13-0.46c0.47,0.3,0.96,0.49,1.4,0.49c0.45,0,0.93-0.19,1.41-0.49 c0.03,0.18,0.07,0.39,0.15,0.49c0.31,0.34,0.69,0.46,0.93,0.54l0.08,0.03c0.12,0.04,0.62,0.18,1.14,0.33 c0.5,0.14,1.02,0.29,1.23,0.36c0.1,0.03,0.18,0.07,0.27,0.1C11.89,15.4,10.04,16.25,8,16.25z">\n                </path>\n            </svg>\n            '}}const jobCompanyContainer=document.querySelector(".job-company");jobCompanyContainer&&new JobEmployerPage(jobCompanyContainer);